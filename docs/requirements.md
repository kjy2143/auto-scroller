# 아이폰 모바일 사파리 자동 스크롤 북마클릿 요구사항

## 1. 프로젝트 개요
- **목적**: 아이폰 모바일 사파리에서 웹페이지의 세로 스크롤을 자동으로 제어할 수 있는 북마클릿 개발
- **대상**: iOS Safari 모바일 브라우저
- **형태**: JavaScript 북마클릿 (bookmarklet)
- **기술 스택**: Vanilla JavaScript (순수 JavaScript)

## 2. 핵심 기능 요구사항

### 2.1 자동 스크롤 기능
- **시작/정지**: 북마클릿 클릭으로 자동 스크롤 시작 및 정지 토글
- **고정 속도**: 하나의 고정된 스크롤 속도 사용 (쉽게 수정 가능한 구조)
- **스크롤 방향**: 세로 스크롤만 지원 (위에서 아래로)
- **부드러운 스크롤**: 자연스러운 스크롤 애니메이션 구현

### 2.2 동적 UI 구현
- **토글 버튼 생성**: JavaScript로 동적으로 페이지에 토글 버튼 추가
- **버튼 위치**: 페이지 우측 하단에 고정 배치
- **버튼 형태**: 아이콘 형태 (텍스트 없이)
- **버튼 상태 관리**: 
  - Play 상태: ▶️ 아이콘 (자동 스크롤 실행 중)
  - Stop 상태: ⏸️ 아이콘 (자동 스크롤 정지)
- **터치 친화적**: 모바일 터치 인터페이스에 최적화된 버튼 크기

### 2.3 스크롤 제어 옵션
- **일시정지**: 스크롤 중 일시정지 기능
- **자동 정지**: 페이지 하단 도달 시 자동 정지

## 3. 기술적 요구사항

### 3.1 개발 환경
- **Vanilla JavaScript**: 순수 JavaScript만 사용 (프레임워크 없음)
- **개발용 HTML**: `index.html`을 통한 개발 및 테스트 환경 제공
- **빌드 시스템**: Vite를 활용한 개발 및 빌드 환경

### 3.2 스크롤 속도 설정
- **고정 속도**: 하나의 스크롤 속도 값 사용
- **쉬운 수정**: 코드 상단에 명확한 상수로 정의
- **단위**: 픽셀/초 또는 픽셀/밀리초 단위
- **예시**: `const SCROLL_SPEED = 50; // 픽셀/초`

### 3.3 빌드 요구사항
- **북마클릿 형태**: 최종 빌드는 JavaScript 코드만 생성
- **Minify**: 코드 압축 및 최적화
- **단일 파일**: 모든 기능이 하나의 JavaScript 파일로 통합
- **URL 인코딩**: 북마클릿 URL 형태로 변환 가능

### 3.4 브라우저 호환성
- **iOS Safari**: 최신 버전 지원
- **모바일 최적화**: 터치 이벤트 및 모바일 제스처 지원
- **반응형**: 다양한 화면 크기 대응

### 3.5 성능 요구사항
- **배터리 효율성**: 최소한의 배터리 소모
- **메모리 사용량**: 가벼운 메모리 사용
- **부드러운 애니메이션**: 60fps 스크롤 애니메이션

### 3.6 보안 및 안정성
- **XSS 방지**: 안전한 DOM 조작
- **에러 처리**: 예외 상황에 대한 적절한 처리
- **메모리 누수 방지**: 정리되지 않은 이벤트 리스너 방지

## 4. 사용자 경험 요구사항

### 4.1 설치 및 사용
- **간편한 설치**: 북마클릿을 북마크바에 드래그하여 설치
- **즉시 사용**: 설치 후 바로 사용 가능
- **직관적 조작**: 복잡한 설정 없이 바로 사용

### 4.2 UI/UX 설계
- **최소한의 UI**: 모바일 화면을 가리지 않는 간소한 컨트롤
- **버튼 위치**: 페이지 우측 하단에 고정 배치
- **버튼 스타일**: 
  - Play: ▶️ 아이콘 (삼각형)
  - Stop: ⏸️ 아이콘 (일시정지)
- **버튼 크기**: 터치하기 적절한 크기 (최소 44px × 44px)
- **버튼 색상**: 배경과 대비되는 색상으로 가시성 확보
- **접근성**: 시각 장애인을 위한 고려사항

### 4.3 설정 및 커스터마이징
- **기본값 제공**: 적절한 기본 스크롤 속도 설정
- **설정 저장**: 사용자 설정을 로컬에 저장
- **빠른 리셋**: 기본 설정으로 빠른 복원

## 5. 개발 워크플로우

### 5.1 개발 단계
1. **개발 환경**: `index.html`을 통한 로컬 개발 및 테스트
2. **기능 구현**: Vanilla JavaScript로 핵심 기능 개발
3. **UI 구현**: 동적 버튼 생성 및 상태 관리
4. **테스트**: 다양한 웹사이트에서 동작 확인

### 5.2 빌드 단계
1. **코드 최적화**: 불필요한 코드 제거
2. **Minify**: 코드 압축 및 난독화
3. **북마클릿 변환**: `javascript:` 프로토콜 형태로 변환
4. **배포**: 최종 북마클릿 코드 생성

## 6. 제약사항 및 고려사항

### 6.1 iOS Safari 제약
- **JavaScript 제한**: iOS Safari의 JavaScript 실행 제한 고려
- **북마클릿 크기**: URL 길이 제한으로 인한 코드 최적화
- **보안 정책**: Content Security Policy (CSP) 대응

### 6.2 Vanilla JavaScript 제약
- **외부 라이브러리 금지**: 순수 JavaScript만 사용
- **모듈 시스템**: ES6 모듈 사용 가능하나 최종 빌드에서는 단일 파일
- **브라우저 API**: 최신 브라우저 API 활용

### 6.3 사용자 경험
- **배터리 소모**: 지속적인 스크롤로 인한 배터리 소모 최소화
- **데이터 사용량**: 모바일 데이터 사용량 고려
- **접근성**: 다양한 사용자층을 위한 접근성 고려

## 7. 개발 우선순위

### 7.1 Phase 1 (MVP)
- 기본 자동 스크롤 시작/정지 기능
- 동적 토글 버튼 생성 및 상태 관리 (우측 하단 고정)
- 아이콘 형태의 버튼 UI 구현
- 고정 스크롤 속도 설정

### 7.2 Phase 2 (고급 기능)
- 고급 UI 및 애니메이션
- 자동 정지 기능

### 7.3 Phase 3 (최적화)
- 성능 최적화
- 접근성 개선
- 사용자 피드백 반영
- 빌드 시스템 최적화

## 8. 테스트 요구사항

### 8.1 기능 테스트
- 다양한 웹사이트에서의 동작 확인
- 다양한 iOS 버전에서의 호환성 테스트
- 다양한 화면 크기에서의 UI 테스트
- 토글 버튼 상태 변경 테스트
- 우측 하단 버튼 위치 확인

### 8.2 성능 테스트
- 배터리 소모량 측정
- 메모리 사용량 모니터링
- 스크롤 성능 벤치마크
- 빌드된 코드 크기 확인

### 8.3 빌드 테스트
- Minify된 코드 동작 확인
- 북마클릿 형태로 변환 후 동작 확인
- 다양한 브라우저에서 호환성 테스트

## 9. 배포 및 유지보수

### 9.1 배포
- GitHub Pages를 통한 북마클릿 배포
- 사용자 가이드 및 설치 방법 문서화
- 빌드된 북마클릿 코드 제공

### 9.2 유지보수
- 정기적인 iOS Safari 업데이트 대응
- 사용자 피드백 수집 및 개선
- 버그 리포트 및 수정
- 코드 최적화 및 성능 개선

## 10. 파일 구조

```
auto-scroller/
├── src/
│   ├── main.js          # 메인 JavaScript 로직
│   ├── ui.js           # UI 관련 함수들 (버튼 생성, 위치 설정)
│   ├── scroll.js       # 스크롤 제어 로직 (고정 속도)
│   └── utils.js        # 유틸리티 함수들
├── index.html          # 개발용 HTML 파일
├── package.json        # 프로젝트 설정
├── vite.config.js      # Vite 빌드 설정
└── docs/
    └── requirements.md # 요구사항 문서
```

## 11. 스크롤 속도 설정 가이드

### 11.1 속도 설정 방법
```javascript
// src/scroll.js 파일 상단에 정의
const SCROLL_SPEED = 50; // 픽셀/초 단위
// 또는
const SCROLL_SPEED = 1; // 픽셀/밀리초 단위
```

### 11.2 권장 속도 값
- **느린 스크롤**: 30-50 픽셀/초
- **보통 스크롤**: 50-100 픽셀/초
- **빠른 스크롤**: 100-200 픽셀/초
